import { useEffect, useState } from 'react';
import { checkEcosystem } from '../../config/ecosystem';
import type { ICheckEcosystem } from '../../config/ecosystem';
import { pathRoutes } from '../../config/pathRoutes';

const EcosystemSidebarOption = () => {
	const [isEcosystemEnabled, setIsEcosystemEnabled] = useState(false);

	useEffect(() => {
		const checkEcosystemData = async () => {
			const data: ICheckEcosystem = await checkEcosystem();
			setIsEcosystemEnabled(data.isEnabledEcosystem);
		};
		checkEcosystemData();
	}, []);

	if (isEcosystemEnabled) {
		return (
			<li>
				<a
					href={pathRoutes.ecosystem.root}
					className="flex items-center p-2 text-base text-gray-900 transition duration-75 rounded-lg hover:bg-gray-100 group dark:text-gray-200 dark:hover:bg-gray-700"
				>
					<svg className="flex-shrink-0 w-6 h-6 pt-1transition duration-75 dark:text-gray-400 dark:group-hover:text-white text-[#6B7280] group-hover:text-gray-700 dark:group-hover:text-white" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
							<path fill="currentColor" d="M11.502.46c-.31.107-.581.327-.76.609a1.486 1.486 0 0 0 .634 2.151l.248.113V5.25h.75V3.333l.248-.113a1.48 1.48 0 0 0 .732-.73c.169-.367.173-.906.004-1.248-.15-.3-.459-.614-.74-.736-.31-.14-.806-.16-1.116-.047Zm.792.73c.488.202.6.82.22 1.2-.309.31-.73.315-1.035.005-.581-.576.06-1.523.815-1.204ZM9.526 2.5a2.53 2.53 0 0 0-.272.13c-.014.015.01.104.047.197.037.099.098.249.136.338l.07.16.305-.127c.342-.141.337-.118.14-.563-.06-.131-.126-.244-.145-.244a4.379 4.379 0 0 0-.281.108Zm4.514.144c-.187.422-.187.436-.041.487.07.028.21.08.31.122l.173.075.112-.253c.197-.45.206-.422-.112-.563-.16-.065-.296-.121-.31-.121-.01 0-.07.112-.131.253Zm-5.768.386c-.155.07-.286.126-.295.135-.01.01.262.637.29.67.02.014.544-.21.582-.248.028-.024-.24-.68-.272-.68a7.24 7.24 0 0 0-.305.122Zm6.982.206c-.075.183-.122.338-.112.347.037.037.572.262.586.248.01-.004.075-.159.154-.337l.141-.328-.22-.099c-.422-.192-.399-.197-.549.17ZM4.405 3.45c-.665.244-1.073.858-1.022 1.533A1.478 1.478 0 0 0 5.338 6.28l.3-.098.66.656.662.661.272-.267.267-.272-.661-.661-.656-.66.098-.3a1.478 1.478 0 0 0-.773-1.82c-.305-.145-.807-.178-1.102-.07Zm.764.74c.488.202.6.82.22 1.2-.309.31-.73.315-1.035.005-.582-.576.06-1.523.815-1.204Zm13.487-.74a1.538 1.538 0 0 0-.956.97c-.103.3-.094.586.023.933l.094.286-.656.661-.661.66.267.273.272.267.661-.66.66-.657.3.098c1.009.342 2.05-.468 1.95-1.523a1.505 1.505 0 0 0-.852-1.238c-.305-.145-.806-.178-1.102-.07Zm.764.74c.488.202.6.82.22 1.2-.309.31-.73.315-1.035.005-.582-.576.06-1.523.815-1.204ZM7.053 3.548c-.155.066-.29.127-.3.136-.033.028.234.675.276.675.024 0 .17-.056.324-.122.314-.135.304-.093.094-.567l-.113-.243-.281.121Zm9.541.01a5.27 5.27 0 0 0-.146.347l-.089.225.216.089c.417.183.408.183.548-.169.07-.178.113-.333.09-.352a1.693 1.693 0 0 0-.296-.15l-.267-.117-.056.127Zm-5.25 2.471c-2.372.305-4.294 1.87-5.04 4.111-.702 2.114-.13 4.519 1.44 6.066.581.572.956.843 1.575 1.157 1.922.966 4.237.811 6.056-.407.45-.3 1.28-1.13 1.58-1.58.853-1.275 1.195-2.766.97-4.252-.188-1.289-.755-2.404-1.701-3.347-.854-.853-1.791-1.373-2.958-1.64-.39-.09-1.552-.155-1.922-.108Zm.281 1.884v1.07l-.305-.034c-.408-.051-1.289-.29-1.289-.351 0-.014.066-.155.146-.314.182-.361.492-.802.73-1.027.188-.178.559-.412.662-.412.042 0 .056.243.056 1.068Zm1.036-.97c.398.202.853.731 1.162 1.34.08.16.146.305.146.315 0 .065-.919.304-1.416.375l-.178.023V7.918c0-.712.019-1.073.047-1.073a.89.89 0 0 1 .239.098Zm-2.836.45a6.17 6.17 0 0 0-.31.53 5.26 5.26 0 0 1-.168.323c-.028.028-.534-.319-.534-.37 0-.08.998-.699 1.134-.703.023 0-.033.098-.122.22Zm4.533-.075c.36.183.83.497.83.558 0 .051-.507.398-.535.37-.01-.01-.08-.145-.16-.3a5.797 5.797 0 0 0-.304-.53c-.094-.13-.16-.243-.145-.243.01 0 .154.065.314.145ZM8.545 8.635c.193.136.385.272.432.296.08.046.075.084-.061.656-.141.59-.207.994-.268 1.697l-.032.342H6.769l.037-.323c.08-.662.427-1.608.792-2.147.141-.207.572-.764.591-.764.005 0 .164.112.356.243Zm7.407-.075c.632.713 1.134 1.814 1.242 2.742l.037.324h-1.847l-.032-.319a10.482 10.482 0 0 0-.268-1.72c-.136-.572-.14-.61-.06-.656a5.98 5.98 0 0 0 .417-.291c.182-.131.337-.244.346-.244.005-.004.08.07.165.164Zm-5.64.938c.22.065.558.14.75.164.638.089.563-.047.563 1.026v.938h-2.26l.033-.319c.066-.698.16-1.242.31-1.805.037-.14.065-.173.126-.15.043.015.258.085.479.146Zm3.98.004c.15.563.244 1.107.31 1.805l.032.319h-2.259v-.933c0-1.022-.01-.989.286-.989.202 0 .802-.131 1.186-.258.183-.06.347-.108.366-.112.018-.005.056.075.08.168ZM8.644 12.69c.056.605.178 1.35.295 1.838.117.468.122.492.038.538-.047.029-.24.165-.432.296l-.347.248-.15-.168c-.632-.713-1.134-1.82-1.242-2.743l-.037-.323h1.847l.028.314Zm2.981.619c0 1.022.01.989-.286.989-.197 0-.802.131-1.214.262-.192.061-.356.103-.366.09-.08-.08-.3-1.266-.36-1.937l-.029-.337h2.255v.933Zm2.977-.596c-.061.67-.282 1.857-.361 1.936-.01.014-.174-.028-.366-.089-.412-.131-1.017-.262-1.214-.262-.295 0-.286.033-.286-.99v-.932h2.255l-.028.337Zm2.592-.023c-.122.956-.61 2.034-1.242 2.752l-.15.168-.347-.248c-.193-.131-.385-.267-.431-.29-.08-.048-.075-.085.06-.657.136-.572.202-.975.268-1.725l.032-.314h1.852l-.042.314Zm-5.592 4.458c-.047.051-.446-.178-.661-.375a3.994 3.994 0 0 1-.764-1.055c-.08-.16-.146-.3-.146-.31 0-.07.872-.309 1.29-.35l.28-.034.015 1.05c.004.577 0 1.06-.014 1.074Zm1.58-2.006c.309.08.787.239.787.262 0 .014-.066.155-.146.314-.196.39-.501.811-.759 1.05-.201.188-.534.39-.642.39-.028 0-.047-.362-.047-1.07V15.02l.305.033c.168.023.393.06.501.088Zm-3.709.853a5.4 5.4 0 0 0 .31.539c.103.164.183.295.173.295-.131 0-1.143-.623-1.143-.703 0-.042.459-.375.52-.375.014 0 .075.108.14.244Zm5.47-.08c.132.094.245.188.245.21 0 .08-1.013.704-1.144.704-.01 0 .07-.131.173-.295a5.19 5.19 0 0 0 .31-.54c.065-.135.126-.243.14-.243.019 0 .14.075.277.164ZM3.641 6.808c-.014.033-.065.169-.117.3l-.098.244.347.14.342.14.126-.3c.07-.168.122-.309.113-.318-.042-.042-.572-.262-.628-.262-.033 0-.07.028-.085.056Zm16.301.073a3.775 3.775 0 0 0-.3.136c-.02.014.23.624.253.624.01 0 .16-.061.337-.141.188-.08.314-.16.305-.197-.042-.178-.22-.553-.263-.548-.028 0-.178.06-.332.126ZM3.056 8.218c-.052.136-.108.276-.122.318-.023.057.042.103.3.202.183.075.342.122.352.112.032-.032.262-.562.248-.576a3.382 3.382 0 0 0-.445-.206l-.24-.094-.093.244Zm17.427-.108c-.225.098-.3.159-.295.22.014.126.201.53.248.53.019 0 .178-.062.347-.137l.305-.14-.127-.305c-.07-.169-.136-.31-.15-.305-.014 0-.16.061-.328.136ZM2.513 9.516c-.066.16-.122.295-.122.31 0 .023.44.224.6.271.07.024.103 0 .14-.098.028-.07.08-.211.122-.31l.075-.173-.253-.113c-.45-.197-.422-.206-.563.113Zm18.501-.144c-.16.07-.305.136-.32.15-.032.037.188.572.245.59.028.01.182-.047.356-.122l.31-.14-.123-.305c-.07-.169-.136-.31-.15-.305-.014 0-.16.061-.319.132ZM1.423 10.566c-1.06.346-1.397 1.696-.619 2.475.314.314.596.43 1.046.436.31 0 .422-.024.637-.122a1.48 1.48 0 0 0 .731-.732l.113-.248h1.917v-.75H3.331l-.113-.248a1.448 1.448 0 0 0-1.27-.858c-.206-.01-.408.004-.525.047Zm.745.75c.483.201.6.83.225 1.204a.707.707 0 0 1-1.04 0c-.581-.576.06-1.523.815-1.204Zm19.605-.774a1.55 1.55 0 0 0-.993.835l-.113.248H18.75v.75h1.917l.113.248c.243.54.74.854 1.345.854.595 0 1.064-.291 1.345-.835.108-.206.127-.304.127-.642.005-.328-.019-.44-.113-.633a1.66 1.66 0 0 0-.726-.722c-.253-.117-.736-.168-.985-.103Zm.647.774c.483.201.6.83.225 1.204a.707.707 0 0 1-1.04 0c-.582-.576.06-1.523.815-1.204ZM2.742 13.995a2.534 2.534 0 0 0-.32.155c-.018.019.02.16.08.314.132.319.15.324.563.14l.258-.112-.122-.31c-.07-.168-.136-.309-.15-.309a6.352 6.352 0 0 0-.31.122Zm18.118-.017a14.13 14.13 0 0 1-.117.29c-.042.1-.066.198-.051.216.023.043.637.296.656.272.01-.01.066-.145.131-.31l.122-.294-.253-.108c-.413-.183-.44-.188-.488-.066ZM3.28 15.24c-.168.07-.323.14-.341.144-.061.024.206.6.276.6.033 0 .188-.056.347-.121.314-.141.31-.122.127-.53l-.103-.225-.305.131Zm16.997.192c-.07.155-.107.3-.089.319.052.042.633.286.647.272.01-.01.066-.146.136-.31l.117-.295-.304-.14a2.453 2.453 0 0 0-.347-.136c-.019 0-.09.13-.16.29ZM3.74 16.514l-.314.15.117.277c.06.154.122.286.131.3.028.023.685-.23.685-.267 0-.061-.249-.615-.277-.61-.014 0-.169.07-.342.15Zm16.014.15c-.075.169-.122.314-.112.319.037.033.614.267.647.267.032 0 .215-.408.248-.553.01-.038-.117-.117-.305-.197a4.377 4.377 0 0 0-.337-.14c-.005 0-.07.135-.14.304Zm-13.456.499-.656.656-.305-.098c-.717-.244-1.481.08-1.823.773-.164.338-.164.928 0 1.266.539 1.101 2.076 1.153 2.657.089.216-.399.249-.774.108-1.186l-.098-.3.656-.661.661-.661-.272-.272-.267-.267-.66.66Zm-1.13 1.28c.483.201.6.83.225 1.204a.707.707 0 0 1-1.04 0c-.582-.576.06-1.523.815-1.204Zm11.599-1.673-.267.271.66.661.657.66-.098.3c-.244.718.08 1.482.773 1.824.333.164.924.164 1.266 0 .3-.145.581-.426.726-.726.164-.342.164-.933 0-1.266-.342-.694-1.106-1.017-1.823-.773l-.3.098-.661-.656-.66-.661-.273.267Zm2.653 1.673c.483.201.6.83.225 1.204a.707.707 0 0 1-1.04 0c-.582-.576.06-1.523.815-1.204Zm-7.795 1.263v.961l-.248.113c-.31.14-.554.38-.722.703-.108.206-.127.305-.132.642 0 .473.108.745.436 1.069.305.304.563.408 1.041.408s.736-.104 1.04-.408c.315-.314.432-.596.437-1.046 0-.309-.024-.421-.122-.637a1.48 1.48 0 0 0-.732-.731l-.248-.113V18.75h-.75v.956Zm.67 1.735c.483.201.6.83.225 1.204a.707.707 0 0 1-1.04 0c-.582-.576.06-1.523.815-1.204ZM6.872 19.93a2.426 2.426 0 0 0-.122.348c0 .047.563.319.59.286a3.9 3.9 0 0 0 .155-.347l.136-.333-.29-.122a3.248 3.248 0 0 0-.314-.122c-.014 0-.085.131-.155.29Zm9.736-.17-.249.109.127.295c.066.164.14.314.16.338.037.042.538-.141.585-.216.047-.075-.225-.647-.304-.642a1.17 1.17 0 0 0-.32.117Zm-8.471.684c-.136.319-.15.398-.061.431.028.014.164.066.295.117l.24.094.14-.342.145-.342-.281-.122a2.48 2.48 0 0 0-.314-.122c-.024 0-.094.126-.164.286Zm7.253-.166c-.137.061-.25.127-.25.145 0 .108.258.624.31.624.033 0 .178-.052.323-.113l.258-.117-.136-.319c-.075-.173-.164-.323-.201-.328-.033-.004-.174.042-.305.108Zm-6.037.72c-.075.183-.126.342-.112.352.051.051.567.258.59.234.033-.033.29-.647.277-.66a11.03 11.03 0 0 0-.605-.254c-.01 0-.075.15-.15.328Zm4.787-.195c-.3.131-.296.108-.099.553l.113.253.243-.098c.136-.056.277-.108.31-.122.065-.028.051-.094-.113-.464-.06-.14-.126-.253-.145-.248-.024 0-.16.056-.31.126Z" />
						<defs>
							<clipPath id="a">
								<path fill="#fff" d="M0 0h24v24H0z" />
							</clipPath>
						</defs>
					</svg>

					<span className="ml-3" data-sidebar-toggle-item>
						Ecosystems
					</span>
				</a>
			</li>
		);
	}

	return <></>;
};

export default EcosystemSidebarOption;
